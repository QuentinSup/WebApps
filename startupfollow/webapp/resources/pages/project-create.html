<link rel="stylesheet" href="{$host}assets/css/simpleupload.css" type="text/css" media="all" />
<!-- Header -->
<header id="header" class="navigation-bar-header">
	<div class="container">
		<nav class="navigation">
			<div class="col-sm-11 col-xs-10">
				<a href="{$host}"><span class="fa fa-home"></span>&nbsp;Colaunch Flows</a>
			</div>
			<div class="col-sm-1 col-xs-2">
				<!-- ko if: user.data() -->
					<a class="menu right">
						<img data-bind="attr: { 'src': user.data().image || host + 'assets/img/avatars/user-avatar.png' }" class="img-responsive img-circle" alt="user" />
						<ul>
							<li data-bind="click: function() { document.location.href = host + 'account' }" class="clickable"><span class="fa fa-gear"></span>&nbsp;Paramètre du compte</li>
							<li data-bind="click: function() { user.logout() }" class="clickable"><span class="fa fa-power-off"></span>&nbsp;Déconnexion</li>
						</ul>
					</a>
				<!-- /ko -->
			</div>
		</nav>
	</div>
</header>
<!-- End Header -->

<section id="hero" class="bg-color">
	<div class="container">
		<div class="home-bg">
			<div class="hero-content text-center ">
				<section>
					<div class="container">
						<div id="StartupAddForm">
						<ul>
						<li>
							<div class="h7">Welcome</div>
							<p class="help-block">Bienvenue ! Votre inscription sera effectuée en quelques cliques seulement.</p>
							<p>
								Pour commencer, merci d'indiquer le nom (actuel) de votre projet et votre phrase d'accroche.
							</p>
							<!-- ko with: form -->
							<form class="form-register" data-role="form">
								<div class="form-group row has-feedback">
									<div class="col-sm-4">
										<input type="text" value="" class="form-control" data-bind="value: name, valueUpdate: 'input'" placeholder="nom du projet..." required />
										<!-- ko if: isCheckingName() -->
										<img src="{$host}/assets/img/preloader.gif" class="form-control-feedback" aria-hidden="true" />
										<!-- /ko -->
										<!-- ko if: !isCheckingName() && !nameExists() -->
										<span class="glyphicon glyphicon-ok form-control-feedback check" aria-hidden="true"></span>
										<!-- /ko -->
									</div>
								</div>
								<div class="form-group row">
									<div class="col-sm-8">
										<input type="text" class="form-control" value="" data-bind="value: punchLine, valueUpdate: 'input'" placeholder="Ex. : In tartiflette we trust" />
									</div>
								</div>
								<button data-bind="disable: isCheckingName() || nameExists(), click: function() { next(); }" class="btn btn-default">Commencer</button>
							</form>
							<!-- /ko -->
						</li>
						<li>
							<div class="h7">Vos débuts</div>
							<!-- ko with: form -->
							<p>
								Depuis quand êtes-vous sur le projet <span class="strong" data-bind="text: name()"></span> ?
							</p>
							<form class="form-register" data-role="form">
								<div class="row">
									<div class="form-group col-sm-3">
										<select class="form-control" data-bind="value: month, valueUpdate: 'input'" placeholder="Sélectionner le mois" required>
											<option value="1">Janvier</option>
											<option value="2">Février</option>
											<option value="3">Mars</option>
											<option value="4">Avril</option>
											<option value="5">Mai</option>
											<option value="6">Juin</option>
											<option value="7">Juillet</option>
											<option value="8">Août</option>
											<option value="9">Septembre</option>
											<option value="10">Octobre</option>
											<option value="11">Novembre</option>
											<option value="12">Décembre</option>
										</select>
									</div>
									<div class="form-group col-sm-2 col-sm-offset-1">
										<input type="text" class="form-control text-center" data-bind="value: year, valueUpdate: 'input'" placeholder="année" maxlength="4" required />
									</div>
								</div>
								<div class="row">
									<button data-bind="disable: !isValidDate(), click: function() { next(); }" class="btn btn-default">Suivant</button>
								</div>
							</form>
							<!-- /ko -->
						</li>
						<li>
							<div class="h7">Votre boîte email de contact</div>
							<p>
								Cette adresse sera privilégiée pour prendre contact avec vous et votre équipe.<br />
								Vous recevrez régulièrement une notification afin de donner régulièrement des nouvelles à votre communauté.
							</p>
							<!-- ko with: form -->
							<form class="form-register" data-role="form">
								<label>Adresse de contact</label>
								<div class="form-group row has-feedback">
									<div class="col-sm-8">
										<input type="text" class="form-control" value="" data-bind="value: email, valueUpdate: 'input'" placeholder="contact@projet.com" required />
										<!-- ko if: isEmailValid() -->
										<span class="glyphicon glyphicon-ok form-control-feedback check" aria-hidden="true"></span>
										<!-- /ko -->
									</div>
								</div>
								<button data-bind="click: function() { prev(); }" class="btn blank"><< Retour</button>
								<button data-bind="disable: !isEmailValid(), click: function() { next(); }" class="btn btn-default">Continuer</button>
							</form>
							<!-- /ko -->
						</li>
						<li>
							<div class="h7">Votre logo</div>
							<p>Votre logo et vos liens vers vos réseaux sociaux permettront à vos fans de vous suivre plus facilement et d'accroître votre visibilité.</p>
							<!-- ko with: form -->
							<form class="form-register" data-role="form">
								<label>Votre image</label>
								<div class="form-group row">
									<div class="col-sm-5">
											<div id="fileuploader">
												<img id="fileuploader-preview" data-bind="attr: { 'src': $data.image }" />
												<div class="upload-bar">
													<div id="fileupload-pbar"></div>
												</div>
											</div>
											<p class="help-block">Fichiers autorisés : .png, .jpg. Max: 3Mb</p>
									</div>
								</div>
								<label>Liens</label>
								<div class="form-group row-fluid">
									<div class="input-group col-sm-4">
										<span class="input-group-addon"><span class="fa fa-twitter"></span></span>
										<input type="text" class="form-control" value="" data-bind="value: twitter, valueUpdate: 'input'" placeholder="@" />
									</div>
								</div>
								<div class="form-group row-fluid">
									<div class="input-group col-sm-6">
										<span class="input-group-addon"><span class="fa fa-link"></span></span>
										<input type="text" class="form-control" value="" data-bind="value: website, valueUpdate: 'input'" placeholder="http://" />
									</div>
								</div>
								<div class="form-group row-fluid">
									<div class="input-group col-sm-6">
										<span class="input-group-addon"><span class="fa fa-facebook"></span></span>
										<input type="text" class="form-control" value="" data-bind="value: facebook, valueUpdate: 'input'" placeholder="" />
									</div>
								</div>
								<button data-bind="click: function() { prev(); }" class="btn blank"><< Retour</button>
								<button data-bind="click: function() { next(); }" class="btn btn-default">Continuer</button>
							</form>
							<!-- /ko -->
						</li>
						<li>
							<div class="h7">Dernière étape !</div>
								<p>
								Invitez votre équipe à vous rejoindre !
								</p>
								<!-- ko with: form -->
								<form data-role="form" class="form">
									<label>Votre équipe</label>
									<!-- ko foreach: members() -->
									<div class="row">
										<div class="col-sm-1">
											<!-- ko ifnot: $data.locked() -->
											<button class="btn" data-bind="click: function() { $parent.removeMember($index()); }">-</button>
											<!-- /ko -->
										</div>
										<!-- ko if: !!$data.user() -->
										<div class="col-sm-2 text-center">
											<div class="img-wrapper">
												<img data-bind="attr: { 'src': $data.user().image || host + 'assets/img/avatars/team-avatar.png' }" class="img-responsive img-circle small" alt="avatar" />
											</div>
										</div>
										<div class="col-sm-4">
											<label>
												<span data-bind="text: $data.user().name"></span>
											</label>
										</div>
										<!-- /ko -->
										<!-- ko ifnot: !!$data.user() -->
										<div class="col-sm-2 text-center">
											<div class="img-wrapper">
												<img src="{$host}assets/img/avatars/team-avatar.png" class="img-responsive img-circle small" alt="avatar" />
											</div>
										</div>
										<div class="col-sm-4">
											<div class="form-group">
												<label>
													<input type="text" name="email" class="form-control" value="" data-bind="attr: { 'id': 'email' + $index() }, value: $data.email, valueUpdate: 'input'" placeholder="Email" required />
												</label>
												<!-- /ko -->
											</div>
										</div>
										<!-- /ko -->
										<div class="col-sm-3">
											<div class="form-group">
												<input type="text" class="form-control" value="" data-bind="value: role, valueUpdate: 'input'" placeholder="Rôle" />
											</div>
										</div>
									</div>
									<!-- /ko -->
									<div class="form-group">
										<button data-bind="click: function() { addMember(); }" class="btn btn-default">+</button>
									</div>
									<div class="form-submit">
										<button data-bind="click: function() { prev(); }" class="btn blank"><< Retour</button>
										<button data-bind="click: function() { submit(); }" class="btn btn-default">Terminer</button>
									</div>
								</form>
								<!-- /ko -->
						</li>
						</ul>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</section>
<!-- End Hero Section -->
<script src="{$host}assets/js/jquery.simpleupload.js"></script>
<script type="text/javascript" src="{$host}/resources/pages/js/get-started.js"></script>

<script type="text/javascript">

	model.form.name("{$requestName}");
	model.form.email("{$requestEmail}");
	
	jQuery(document).ready(function($) {
		$('#StartupAddForm').formslider();
	});
	
	$("#fileuploader").simpleupload({
		url: '{$host}api/image',
		acceptFiles:"image/*",
		previewImage: '#fileuploader-preview',
		authorizedExtensions:"png,jpg,jpeg",
		maxFileSize:3*1024*1024,
		onUploadProgress: function(file, e) {
			
			var percent = Math.round(e.loaded / e.total * 100 * 10) / 10; // round to 1 dec
			$('#fileupload-pbar').width(percent + '%');
			
		},
		onUploadComplete: function(file, status, data) {
			if(status == 200) {
				var json = JSON.parse(data);
				model.form.image(json.location);
			}
		}
	});

</script>
